- Luan
    . Responsavel
    . Estados
    . Endereco
- Juan
    . Asilo
    . Avaliacoes
    . Agenda
- Mario
    . Funcionario
    . Contato
    . FormacaoFuncionario
- Steicy
    . Idoso
    . Prontuario

------------------------------------------------------

CREATE TABLE IF NOT EXISTS `contato` (
    `id` int(9) AUTO_INCREMENT NOT NULL,
    `tipo` varchar(15) NOT NULL,
    `telefone` varchar(11) NOT NULL,
    PRIMARY KEY (`id`)
);

CREATE TABLE IF NOT EXISTS `funcionario` (
    `id` int(9) AUTO_INCREMENT NOT NULL,
    `nome` varchar(45) NOT NULL,
    `cpf` varchar(11) NOT NULL,
    `email` varchar(45) NOT NULL,
    `dataNasc` datetime NOT NULL,
    PRIMARY KEY (`id`),
    FOREIGN KEY (`contatoId`) REFERENCES (`contato`),
    FOREIGN KEY (`asiloId`) REFERENCES (`asilo`),
    FOREIGN KEY (`enderecoId`) REFERENCES (`endereco`),
    FOREIGN KEY (`formacaoId`) REFERENCES (`formacaoFuncionario`)
);

CREATE TABLE IF NOT EXISTS `formacaoFuncionario` (
    `id` int(9) AUTO_INCREMENT NOT NULL,
    `tipoFormacao` varchar(50) NOT NULL,
    `coren` varchar(10) NOT NULL,
    PRIMARY KEY (`id`)
);

CREATE TABLE IF NOT EXISTS `idoso` (
    `id` int(9) AUT INCREMENT NOT NULL,  
    `dataNasc` datetime NOT NULL,  
    `cpf` varchar(11) NOT NULL,  
    `nome` varchar(45) NOT NULL,  
    PRIMARY KEY ('id'),
    FOREIGN KEY (`responsavelId`) REFERENCES ('responsavel')
);

CREATE TABLE IF NOT EXISTS `prontuario` (
    `id` int(9) AUT INCREMENT NOT NULL,
    `descricao` varchar(150) NOT NULL,
    PRIMARY KEY ('id'),
    FOREIGN KEY (`idosoId`) REFERENCES ('idoso'),
    FOREIGN KEY (`agendaId`) REFERENCES ('agenda')
); 

CREATE TABLE IF NOT EXISTS `asilo` (
    `id` int(9) AUTO_INCREMENT NOT NULL,
    `razaoSocial` varchar(50) NOT NULL,
    `contatoId` int(9) NOT NULL,
    `cnpj`varchar(14) NOT NULL,
    `enderecoId` int(9)  NOT NULL,
    PRIMARY KEY (`id`),
    FOREIGN KEY (`responsavelId`) REFERENCES (`responsavel`)
);

CREATE TABLE IF NOT EXISTS `avaliacao` (
    `id` int(9) AUTO_INCREMENT NOT NULL,
    `comentario` varchar(200),
    `nota` int(1) NOT NULL,
    PRIMARY KEY (`id`),
    FOREIGN KEY (`asiloId`) REFERENCES (`asilo`)
);

CREATE TABLE IF NOT EXISTS `agenda` (
    `id` int(9) AUTO_INCREMENT NOT NULL,
    `data` date NOT NULL,
    `hora` time NOT NULL,
    PRIMARY KEY (`id`),
    FOREIGN KEY (`prontuarioId`) REFERENCES (`prontuario`)
);

CREATE TABLE IF NOT EXISTS `responsavel`(
    `id` INT (9) AUTO_INCREMENT NOT NULL,
    `nome` VARCHAR (45) NOT NULL,
    `cpf` VARCHAR (11) NOT NULL,
    `email` VARCHAR (45) NOT NULL,
    `dataNasc` DATETIME NOT NULL.
    PRIMARY KEY (`id`),
    FOREIGN KEY (`contatoId`) REFERENCES (`contato`),
    FOREIGN KEY (`idosoId`) REFERENCES (`idoso`),
    FOREIGN KEY (`enderecoId`) REFERENCES (`endereco`),
    FOREIGN KEY (`asiloId`) REFERENCES (`asilo`)
);

CREATE TABLE IF NOT EXISTS `estado`(
    `id` INT (9) AUTO_INCREMENT NOT NULL,
    `sigla` VARCHAR (2) NOT NULL,
    `nome` VARCHAR (18) NOT NULL,
    PRIMARY KEY (`id`) 
);

CREATE TABLE IF NOT EXISTS `endereco`(
    `id` INT (9) AUTO_INCREMENT NOT NULL,
    `cidade` VARCHAR (28) NOT NULL,
    `logradouro` VARCHAR (50) NOT NULL,
    `numero` INT (5) NOT NULL,
    `cep` INT (9) NOT NULL,
    `bairro` VARCHAR (50) NOT NULL,
    `complemento` VARCHAR (50),
    PRIMARY KEY (`id`),
    FOREIGN KEY (`estadoId`) REFERENCES (`estado`)
);